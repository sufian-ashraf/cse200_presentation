% \begin{frame}{Insertion Violation Cases}
%     \begin{center}
%         \large Four main violation cases in Red-Black Tree insertion:
%     \end{center}
%     \vspace{0.3cm}
%     \begin{columns}[t]
%         % Case 1: Root is Red
%         \column{0.24\textwidth}
%             \begin{center}
%             \textbf{Case 1: Root is Red}
%             \vspace{0.2cm}
%             \begin{tikzpicture}[scale=1.1]
%                 \node[rednode, minimum size=12mm] (n10) at (0,0) {10};
%                 \draw[-{Stealth[scale=1.2]}, thick, rbred] (-0.7,1.0) -- (-0.2,0.3);
%                 \node at (-0.8,1.1) [font=\scriptsize\bfseries, text=rbred] {root};
%             \end{tikzpicture}
%             \end{center}
%         % Case 2: Uncle is RED
%         \column{0.24\textwidth}
%             \begin{center}
%             \textbf{Case 2: Uncle is RED}
%             \vspace{0.2cm}
%             \begin{tikzpicture}[scale=1]
%                 \node[blacknode] (n20) at (0,0) {20};
%                 \node[rednode] (n5) at (-1,-1.3) {5}; \draw[thick] (n20) -- (n5);
%                 \node[rednode] (n30) at (1,-1.3) {30}; \draw[thick] (n20) -- (n30);
%                 \node[rednode] (n10) at (-0.2,-2.6) {10}; \draw[thick] (n5) -- (n10);
%             \end{tikzpicture}
%             \end{center}
%         % Case 3: Uncle is BLACK (LL)
%         \column{0.24\textwidth}
%             \begin{center}
%             \textbf{Case 3: Uncle is BLACK (LL)}
%             \vspace{0.2cm}
%             \begin{tikzpicture}[scale=1]
%                 \node[blacknode] (n20) at (0,0) {20};
%                 \node[rednode] (n15) at (-1,-1.3) {15}; \draw[thick] (n20) -- (n15);
%                 \node[blacknode] (n30) at (1,-1.3) {30}; \draw[thick] (n20) -- (n30);
%                 \node[rednode] (n10) at (-1.8,-2.6) {10}; \draw[thick] (n15) -- (n10);
%             \end{tikzpicture}
%             \end{center}
%         % Case 4: Uncle is BLACK (LR)
%         \column{0.24\textwidth}
%             \begin{center}
%             \textbf{Case 4: Uncle is BLACK (LR)}
%             \vspace{0.2cm}
%             \begin{tikzpicture}[scale=1]
%                 \node[blacknode] (n20) at (0,0) {20};
%                 \node[rednode] (n5) at (-1,-1.3) {5}; \draw[thick] (n20) -- (n5);
%                 \node[blacknode] (n30) at (1,-1.3) {30}; \draw[thick] (n20) -- (n30);
%                 \node[rednode] (n10) at (-0.2,-2.6) {10}; \draw[thick] (n5) -- (n10);
%             \end{tikzpicture}
%             \end{center}
%     \end{columns}
%     \vspace{0.7cm}
%     \begin{center}
%         \textbf{\Large How to solve this?}
%     \end{center}
%     \vspace{0.2cm}
%     \begin{center}
%         \large \textit{See next...}
%     \end{center}
% \end{frame}

% ══════════════════════════════════════════════════════════════
% SLIDE 1: Store and Search Data
% ══════════════════════════════════════════════════════════════
\begin{frame}{We Need to Store and Search Data}
    \vspace{0.5cm}
    \begin{itemize}
        \item<1-> \large Everything is \textbf{tree-structured}
        \item<2-> \large \textbf{Insert} data into the structure
        \item<3-> \large \textbf{Delete} data efficiently
        \item<4-> \large \textbf{Search} for data quickly
    \end{itemize}
\end{frame}

% ══════════════════════════════════════════════════════════════
% SLIDE 1B: Question
% ══════════════════════════════════════════════════════════════
\begin{frame}
    \vspace{2cm}
    \begin{center}
        \Huge Good way to do all of this?
    \end{center}
\end{frame}

% ══════════════════════════════════════════════════════════════
% SLIDE 1C: Answer
% ══════════════════════════════════════════════════════════════
\begin{frame}
    \vspace{2.5cm}
    \begin{center}
        \uncover<1>{\Huge\textcolor{goodgreen}{\textbf{Use a BST!}}}
    \end{center}
\end{frame}



% ══════════════════════════════════════════════════════════════
% SLIDE 2: BST Rule
% ══════════════════════════════════════════════════════════════
\begin{frame}{The BST Rule}
    \begin{columns}[c]
        \column{0.5\textwidth}
            \vspace{0.3cm}
            \begin{center}
                \large How does BST decide where to put a node?
            \end{center}
            \vspace{0.5cm}
            \begin{itemize}
                \item<2-> \textbf{Smaller than me?} Go \textcolor{goodgreen}{\textbf{Left}}
                \item<4-> \textbf{Larger than me?} Go \textcolor{rbred}{\textbf{Right}}
            \end{itemize}

        \column{0.48\textwidth}
            \uncover<1->{
                \begin{center}
                \begin{tikzpicture}[scale=1, every node/.style={transform shape}]
                    % Start with tree with 5-6 nodes
                    \uncover<1>{
                        \node[bstnode] (root) at (0,0) {20};
                        \node[bstnode] (l15) at (-1.5,-1.2) {15};
                        \node[bstnode] (r30) at (1.5,-1.2) {30};
                        \node[bstnode] (ll12) at (-2.2,-2.4) {12};
                        \node[bstnode] (lr18) at (-0.8,-2.4) {18};
                        \node[bstnode] (rr35) at (2.2,-2.4) {35};
                        
                        \draw[thick] (root) -- (l15);
                        \draw[thick] (root) -- (r30);
                        \draw[thick] (l15) -- (ll12);
                        \draw[thick] (l15) -- (lr18);
                        \draw[thick] (r30) -- (rr35);
                    }
                    
                    % Add 10 to left - show floating then directly attached
                    \uncover<2>{
                        \node[bstnode] (root) at (0,0) {20};
                        \node[bstnode, fill=goodgreen!40, draw=goodgreen, thick] (new10) at (-1.5,1.5) {10};
                        \node[below=0.05cm of new10, font=\scriptsize, text=goodgreen] {new};
                    }
                    \uncover<3>{
                        \node[bstnode] (root) at (0,0) {20};
                        \node[bstnode, fill=goodgreen!30, draw=goodgreen] (l10) at (-1.2,-1.2) {10};
                        \draw[thick, goodgreen] (root) -- (l10);
                    }
                    
                    % Add 25 to right - show floating then directly attached
                    \uncover<4>{
                        \node[bstnode] (root) at (0,0) {20};
                        \node[bstnode] (l10) at (-1.2,-1.2) {10};
                        \draw[thick] (root) -- (l10);
                        \node[bstnode, fill=rbred!40, draw=rbred, thick] (new25) at (1.5,1.5) {25};
                        \node[below=0.05cm of new25, font=\scriptsize, text=rbred] {new};
                    }
                    \uncover<5>{
                        \node[bstnode] (root) at (0,0) {20};
                        \node[bstnode] (l10) at (-1.2,-1.2) {10};
                        \node[bstnode, fill=rbred!30, draw=rbred] (r25) at (1.2,-1.2) {25};
                        \draw[thick] (root) -- (l10);
                        \draw[thick, rbred] (root) -- (r25);
                    }
                    
                    % Final full tree
                    \uncover<6->{
                        \node[bstnode] (root) at (0,-0.5) {20};
                        \node[bstnode] (l10) at (-1.5,-1.7) {10};
                        \node[bstnode] (r30) at (1.5,-1.7) {30};
                        \node[bstnode] (ll5) at (-2.2,-2.9) {5};
                        \node[bstnode] (lr15) at (-0.8,-2.9) {15};
                        \node[bstnode] (rl25) at (0.8,-2.9) {25};
                        \node[bstnode] (rr35) at (2.2,-2.9) {35};
                        
                        \draw[thick] (root) -- (l10);
                        \draw[thick] (root) -- (r30);
                        \draw[thick] (l10) -- (ll5);
                        \draw[thick] (l10) -- (lr15);
                        \draw[thick] (r30) -- (rl25);
                        \draw[thick] (r30) -- (rr35);
                    }
                \end{tikzpicture}
                \end{center}
            }
    \end{columns}
    
    \uncover<6->{
        \vspace{0.3cm}
        \begin{center}
            \Large\textbf{Good technique!}
        \end{center}
    }
\end{frame}

% ══════════════════════════════════════════════════════════════
% SLIDE 3 (Page 6): Insert Roll Numbers - Title
% ══════════════════════════════════════════════════════════════
\begin{frame}{Insert the roll numbers in a class sequentially}
    \begin{center}
        \large 1, 2, 3, 4 \ldots 10
    \end{center}
    \vspace{0.3cm}
\end{frame}

% ══════════════════════════════════════════════════════════════
% SLIDE 4 (Page 7): Goes to Right
% ══════════════════════════════════════════════════════════════
\begin{frame}{Insert the roll numbers in a class sequentially}
    \begin{center}
        \large 1, 2, 3, 4 \ldots 10
    \end{center}
    \vspace{0.3cm}
    \begin{columns}[c]
        \column{0.45\textwidth}
            \begin{itemize}
                \item Each goes to the \textcolor{rbred}{\textbf{right}} of the last
            \end{itemize}

        \column{0.52\textwidth}
            \begin{center}
            \begin{tikzpicture}[scale=0.7,
                every node/.style={},
            ]
                \node[bstnode] (n1) at (0,0) {1};
                \node[bstnode] (n2) at (1,-1.3) {2}; \draw[thick,->] (n1) -- (n2);
                \node[bstnode] (n3) at (2,-2.6) {3}; \draw[thick,->] (n2) -- (n3);
            \end{tikzpicture}
            \end{center}
    \end{columns}
\end{frame}

% ══════════════════════════════════════════════════════════════
% SLIDE 5 (Page 8): Keeps Growing
% ══════════════════════════════════════════════════════════════
\begin{frame}{Insert the roll numbers in a class sequentially}
    \begin{center}
        \large 1, 2, 3, 4 \ldots 10
    \end{center}
    \vspace{0.3cm}
    \begin{columns}[c]
        \column{0.45\textwidth}
            \begin{itemize}
                \item Each goes to the \textcolor{rbred}{\textbf{right}} of the last
                \item The tree just keeps \textcolor{accent}{\textbf{growing}} right\ldots
            \end{itemize}

        \column{0.52\textwidth}
            \begin{center}
            \begin{tikzpicture}[scale=0.75,
                every node/.style={},
            ]
                \node[bstnode] (n1) at (0,0) {1};
                \node[bstnode] (n2) at (1,-1.3) {2}; \draw[thick,->] (n1) -- (n2);
                \node[bstnode] (n3) at (2,-2.6) {3}; \draw[thick,->] (n2) -- (n3);
                \node[bstnode] (n4) at (3,-3.9) {4}; \draw[thick,->] (n3) -- (n4);
                \node[bstnode] (n5) at (4,-5.2) {5}; \draw[thick,->] (n4) -- (n5);
                \node[below right=0.5cm and 0.3cm of n5, font=\normalsize, text=rbred] {\textbf{\ldots and on}};
            \end{tikzpicture}
            \end{center}
    \end{columns}
\end{frame}

% ══════════════════════════════════════════════════════════════
% SLIDE 6 (Page 9): Still Works
% ══════════════════════════════════════════════════════════════
\begin{frame}{Insert the roll numbers in a class sequentially}
    \begin{center}
        \large 1, 2, 3, 4 \ldots 10
    \end{center}
    \vspace{0.3cm}
    \begin{columns}[c]
        \column{0.45\textwidth}
            \begin{itemize}
                \item Each goes to the \textcolor{rbred}{\textbf{right}} of the last
                \item The tree just keeps \textcolor{accent}{\textbf{growing}} right\ldots
            \end{itemize}

        \column{0.52\textwidth}
            \begin{center}
            \begin{tikzpicture}[scale=0.75,
                every node/.style={},
            ]
                \node[bstnode] (n1) at (0,0) {1};
                \node[bstnode] (n2) at (1,-1.3) {2}; \draw[thick,->] (n1) -- (n2);
                \node[bstnode] (n3) at (2,-2.6) {3}; \draw[thick,->] (n2) -- (n3);
                \node[bstnode] (n4) at (3,-3.9) {4}; \draw[thick,->] (n3) -- (n4);
                \node[bstnode] (n5) at (4,-5.2) {5}; \draw[thick,->] (n4) -- (n5);
                \node[below right=0.5cm and 0.3cm of n5, font=\normalsize, text=rbred] {\textbf{\ldots and on}};
            \end{tikzpicture}
            \end{center}
    \end{columns}
    
    \vspace{-0.7cm}
    \begin{center}
        \Large\textbf{Still works!}
    \end{center}
\end{frame}

% ══════════════════════════════════════════════════════════════
% SLIDE 7 (Pages 10-14): Problem Points
% ══════════════════════════════════════════════════════════════
\begin{frame}{But, What's the Problem?}
    \vspace{0.3cm}
    \begin{columns}[c]
        \column{0.45\textwidth}
            \begin{itemize}
                \item<1-> \textcolor{badred}{\textbf{Height becomes $n$}}
                \item<2-> Insertion takes $O(n)$
                \item<3-> Deletion takes $O(n)$
                \item<4-> Search takes $O(n)$
                \item<5-> A linked list in disguise
            \end{itemize}

        \column{0.52\textwidth}
            \begin{center}
            \begin{tikzpicture}[scale=0.75,
                every node/.style={},
            ]
                \node[bstnode] (n1) at (0,0) {1};
                \node[bstnode] (n2) at (1,-1.3) {2}; \draw[thick,->] (n1) -- (n2);
                \node[bstnode] (n3) at (2,-2.6) {3}; \draw[thick,->] (n2) -- (n3);
                \node[bstnode] (n4) at (3,-3.9) {4}; \draw[thick,->] (n3) -- (n4);
                \node[bstnode] (n5) at (4,-5.2) {5}; \draw[thick,->] (n4) -- (n5);
                \node[below right=0.5cm and 0.3cm of n5, font=\normalsize, text=rbred] {\textbf{\ldots and on}};
            \end{tikzpicture}
            \end{center}
    \end{columns}
\end{frame}

% ══════════════════════════════════════════════════════════════
% SLIDE 12 (Page 15): Time Complexity
% ══════════════════════════════════════════════════════════════
\begin{frame}{But, What's the Problem?}
    \vspace{0.6cm}
    \begin{itemize}
        \item Insertion takes $O(n)$
        \item Deletion takes $O(n)$
        \item Search takes $O(n)$
        \item A linked list in disguise
    \end{itemize}
    \vspace{0.6cm}
    \begin{center}
        \Large\textbf{Time complexity becomes $O(n)$}
    \end{center}
\end{frame}

% ══════════════════════════════════════════════════════════════
% SLIDE 5 (Page 12): Solution - Definition
% ══════════════════════════════════════════════════════════════
\begin{frame}{The Solution?}
    \vspace{1cm}
    \begin{center}
        \Large Use a BST that \textbf{promises} to keep its height \textcolor{goodgreen}{\textbf{logarithmic}}\\[0.3cm]
        \large no matter how and what element you insert.
    \end{center}
\end{frame}

% ══════════════════════════════════════════════════════════════
% SLIDE 6 (Page 13): Self-Balancing Trees Examples
% ══════════════════════════════════════════════════════════════
\begin{frame}{The Solution?}
    \vspace{0.5cm}
    \large Examples of Self-Balancing Trees:
    \vspace{0.5cm}
    \begin{itemize}
        \item AVL Tree
        \item \textbf{\textcolor{rbred}{Red-Black Tree}}
        \item Splay Tree
        \item B-Tree
    \end{itemize}
\end{frame}

% ══════════════════════════════════════════════════════════════
% SLIDE 7 (Page 14): Let's Look at RBT
% ══════════════════════════════════════════════════════════════
\begin{frame}
    \vspace{0.5cm}
    \begin{center}
        \LARGE Let's look at \textcolor{rbred}{Red}-\textbf{Black} Trees
        
        \vspace{0.5cm}
        \includegraphics[height=5cm]{images/magnifying_glass.png}
    \end{center}
\end{frame}

% ══════════════════════════════════════════════════════════════
% SLIDE 8 (Page 15): What is Red-Black Tree
% ══════════════════════════════════════════════════════════════
\begin{frame}{What is Red-Black Tree}
    \vspace{1.5cm}
    \begin{center}
        \Large A Red-Black Tree rebalances itself by coloring nodes \textcolor{rbred}{\textbf{red}} and \textbf{black}, ensuring no two \textcolor{rbred}{\textbf{red}} nodes are {\textbf{adjacent}} and all {\textbf{paths}} have the same \textbf{black-height}, which keeps its height \textcolor{goodgreen}{\textbf{logarithmic}}.
    \end{center}
    \uncover<2->{
        \vspace{1cm}
        \begin{center}
            \Large\textcolor{blue!80!black}{\textbf{Height becomes log(n) here!}}
        \end{center}
    }
\end{frame}

% ══════════════════════════════════════════════════════════════
% SLIDE (Page 16): Five Points to Remember - Title
% ══════════════════════════════════════════════════════════════
\begin{frame}{How does RBT do it:Properties}
    \vspace{1.5cm}
    \begin{center}
        \Large\textbf{Five points to remember}
    \end{center}
\end{frame}

% ══════════════════════════════════════════════════════════════
% SLIDE (Page 17): Property 1 — Red or Black with Hence line
% ══════════════════════════════════════════════════════════════
\begin{frame}{How does RBT do it:Properties}
    \vspace{1cm}
    \begin{itemize}
        \item \textbf{Property 1:} Every node is either \textcolor{rbred}{red} or black
    \end{itemize}
    \uncover<2->{
        \vspace{1cm}
        \begin{center}
            \textbf{Hence, the name \textcolor{rbred}{Red} Black Tree}
        \end{center}
    }
\end{frame}

% ══════════════════════════════════════════════════════════════
% SLIDE 9 (Page 18): Property 2 — Root is Black (with right/wrong)
% ══════════════════════════════════════════════════════════════
\begin{frame}{How does RBT do it:Properties}
    \begin{itemize}
        \item \textbf{Property 2:} Root will always be a black node
    \end{itemize}
    \vspace{0.5cm}
    \begin{columns}[c]
        \column{0.5\textwidth}
            \begin{center}
            \uncover<2->{
                \begin{tikzpicture}[scale=1]
                    \node[blacknode] (root) at (0,-0.5) {10};
                    \node[rednode] (l5) at (-1.5,-1.7) {5};
                    \node[rednode] (r15) at (1.5,-1.7) {15};
                    \node[blacknode] (ll2) at (-2.2,-2.9) {2};
                    \node[blacknode] (lr7) at (-0.8,-2.9) {7};
                    \node[blacknode] (rl12) at (0.8,-2.9) {12};
                    \node[blacknode] (rr20) at (2.2,-2.9) {20};
                    
                    \draw[thick] (root) -- (l5);
                    \draw[thick] (root) -- (r15);
                    \draw[thick] (l5) -- (ll2);
                    \draw[thick] (l5) -- (lr7);
                    \draw[thick] (r15) -- (rl12);
                    \draw[thick] (r15) -- (rr20);
                \end{tikzpicture}
            }
            
            \uncover<4->{\vspace{0.3cm}\textcolor{goodgreen}{\textbf{Correct}}}
            \end{center}
        
        \column{0.5\textwidth}
            \begin{center}
            \uncover<3->{
                \begin{tikzpicture}[scale=1]
                    \node[rednode] (root) at (0,-0.5) {10};
                    \node[blacknode] (l5) at (-1.5,-1.7) {5};
                    \node[blacknode] (r15) at (1.5,-1.7) {15};
                    \node[rednode] (ll2) at (-2.2,-2.9) {2};
                    \node[rednode] (lr7) at (-0.8,-2.9) {7};
                    
                    \draw[thick] (root) -- (l5);
                    \draw[thick] (root) -- (r15);
                    \draw[thick] (l5) -- (ll2);
                    \draw[thick] (l5) -- (lr7);
                \end{tikzpicture}
            }
            
            \uncover<5->{\vspace{0.3cm}\textcolor{badred}{\textbf{Incorrect}}}
            \end{center}
    \end{columns}
\end{frame}

% ══════════════════════════════════════════════════════════════
% SLIDE 10 (Page 19): Property 3 — Leaves are Black / NIL
% ══════════════════════════════════════════════════════════════
\begin{frame}{How does RBT do it:Properties}
    \begin{itemize}
        \item \textbf{Property 3:} Leaves will either be black or NIL
    \end{itemize}
    \vspace{0.3cm}
    \begin{columns}[c]
        \column{0.5\textwidth}
            \begin{center}
            \uncover<2->{
                \begin{tikzpicture}[scale=1]
                    \node[blacknode] (root) at (0,-0.5) {10};
                    \node[rednode] (l5) at (-1.5,-1.7) {5};
                    \node[rednode] (r15) at (1.5,-1.7) {15};
                    \node[blacknode] (ll2) at (-2.2,-2.9) {2};
                    \node[blacknode] (lr7) at (-0.8,-2.9) {7};
                    \node[blacknode] (rl12) at (0.8,-2.9) {12};
                    \node[blacknode] (rr20) at (2.2,-2.9) {20};
                    
                    \draw[thick] (root) -- (l5);
                    \draw[thick] (root) -- (r15);
                    \draw[thick] (l5) -- (ll2);
                    \draw[thick] (l5) -- (lr7);
                    \draw[thick] (r15) -- (rl12);
                    \draw[thick] (r15) -- (rr20);
                \end{tikzpicture}
                
                \uncover<4->{\vspace{0.2cm}\small\textbf{Black Leaves}}
            }
            \end{center}
        
        \column{0.5\textwidth}
            \begin{center}
            \uncover<3->{
                \begin{tikzpicture}[scale=1]
                    \node[blacknode] (root) at (0,-0.5) {10};
                    \node[rednode] (l5) at (-1.5,-1.7) {5};
                    \node[rednode] (r15) at (1.5,-1.7) {15};
                    % NIL nodes as rectangles
                    \node[rectangle, fill=black, draw=black, minimum width=6mm, minimum height=4mm] (n1) at (-2.2,-2.9) {};
                    \node[rectangle, fill=black, draw=black, minimum width=6mm, minimum height=4mm] (n2) at (-0.8,-2.9) {};
                    \node[rectangle, fill=black, draw=black, minimum width=6mm, minimum height=4mm] (n3) at (0.8,-2.9) {};
                    \node[rectangle, fill=black, draw=black, minimum width=6mm, minimum height=4mm] (n4) at (2.2,-2.9) {};
                    
                    \draw[thick] (root) -- (l5);
                    \draw[thick] (root) -- (r15);
                    \draw[thick] (l5) -- (n1);
                    \draw[thick] (l5) -- (n2);
                    \draw[thick] (r15) -- (n3);
                    \draw[thick] (r15) -- (n4);
                    
                    % NIL labels with arrows
                    \node[font=\tiny\bfseries] (lbl1) at (-2.8,-3.6) {NIL};
                    \node[font=\tiny\bfseries] (lbl2) at (-0.8,-3.6) {NIL};
                    \node[font=\tiny\bfseries] (lbl3) at (0.8,-3.6) {NIL};
                    \node[font=\tiny\bfseries] (lbl4) at (2.8,-3.6) {NIL};
                    \draw[->, thick, black] (lbl1) -- (n1);
                    \draw[->, thick, black] (lbl2) -- (n2);
                    \draw[->, thick, black] (lbl3) -- (n3);
                    \draw[->, thick, black] (lbl4) -- (n4);
                \end{tikzpicture}
                
                \uncover<5->{\vspace{0.2cm}\small\textbf{NIL nodes (counted as Black)}}
            }
            \end{center}
    \end{columns}
\end{frame}

% ══════════════════════════════════════════════════════════════
% SLIDE 11 (Page 20): Property 4 — No Two Consecutive Red
% ══════════════════════════════════════════════════════════════
\begin{frame}{How does RBT do it:Properties}
    \begin{itemize}
        \item \textbf{Property 4:} There will be no two consecutive red nodes
    \end{itemize}
    \vspace{0.3cm}
    \begin{columns}[c]
        \column{0.5\textwidth}
            \begin{center}
            \uncover<2->{
                \begin{tikzpicture}[scale=1]
                    \node[blacknode] (root) at (0,-0.5) {10};
                    \node[rednode] (l5) at (-1.5,-1.7) {5};
                    \node[rednode] (r15) at (1.5,-1.7) {15};
                    \node[blacknode] (ll2) at (-2.2,-2.9) {2};
                    \node[blacknode] (lr7) at (-0.8,-2.9) {7};
                    \node[blacknode] (rl12) at (0.8,-2.9) {12};
                    \node[blacknode] (rr20) at (2.2,-2.9) {20};
                    
                    \draw[thick] (root) -- (l5);
                    \draw[thick] (root) -- (r15);
                    \draw[thick] (l5) -- (ll2);
                    \draw[thick] (l5) -- (lr7);
                    \draw[thick] (r15) -- (rl12);
                    \draw[thick] (r15) -- (rr20);
                \end{tikzpicture}
            }
            
            \uncover<4->{\vspace{0.3cm}\textcolor{goodgreen}{\textbf{Correct}}}
            \end{center}
        
        \column{0.5\textwidth}
            \begin{center}
            \uncover<3->{
                \begin{tikzpicture}[scale=1]
                    \node[blacknode] (root) at (0,-0.5) {10};
                    \node[rednode] (l5) at (-1.5,-1.7) {5};
                    \node[blacknode] (r15) at (1.5,-1.7) {15};
                    \node[rednode] (ll2) at (-2.2,-2.9) {2};
                    \node[rednode] (lr7) at (-0.8,-2.9) {7};
                    
                    \draw[thick] (root) -- (l5);
                    \draw[thick] (root) -- (r15);
                    \draw[thick] (l5) -- (ll2);
                    \draw[thick] (l5) -- (lr7);
                \end{tikzpicture}
            }
            
            \uncover<5->{\vspace{0.3cm}\textcolor{badred}{\textbf{Incorrect}}}
            \end{center}
    \end{columns}
\end{frame}

% ══════════════════════════════════════════════════════════════
% SLIDE 12 (Page 21): Property 5 — Equal Black Height
% ══════════════════════════════════════════════════════════════
\begin{frame}{How does RBT do it:Properties}
    \begin{itemize}
        \item \textbf{Property 5:} From a given node, the number of black nodes in any given path will always be same for that node
    \end{itemize}
    \vspace{0.2cm}
    \uncover<2->{
        \begin{center}
        \begin{tikzpicture}[scale=0.9]
            % Big RBT tree - wider spacing
            \node[blacknode] (root) at (0,0) {20};
            \node[rednode] (l10) at (-3,-1.3) {10};
            \node[rednode] (r30) at (3,-1.3) {30};
            \node[blacknode] (ll5) at (-4.5,-2.6) {5};
            \node[blacknode] (lr15) at (-1.5,-2.6) {15};
            \node[blacknode] (rl25) at (1.5,-2.6) {25};
            \node[blacknode] (rr35) at (4.5,-2.6) {35};
            
            \draw[thick] (root) -- (l10);
            \draw[thick] (root) -- (r30);
            \draw[thick] (l10) -- (ll5);
            \draw[thick] (l10) -- (lr15);
            \draw[thick] (r30) -- (rl25);
            \draw[thick] (r30) -- (rr35);
            
            % Path 1: root -> 10 -> 5
            \uncover<3->{
                \draw[line width=2.5pt, orange!80!black] (root) -- (l10) -- (ll5);
                \node[below=0.15cm of ll5, font=\scriptsize, text=orange!80!black] {\textbf{bc=2}};
            }
            
            % Path 2: root -> 10 -> 15
            \uncover<4->{
                \draw[line width=2.5pt, green!60!black] (root) -- (l10) -- (lr15);
                \node[below=0.15cm of lr15, font=\scriptsize, text=green!60!black] {\textbf{bc=2}};
            }
            
            % Path 3: root -> 30 -> 25
            \uncover<5->{
                \draw[line width=2.5pt, red!70!black] (root) -- (r30) -- (rl25);
                \node[below=0.15cm of rl25, font=\scriptsize, text=red!70!black] {\textbf{bc=2}};
            }
            
            % Path 4: root -> 30 -> 35
            \uncover<6->{
                \draw[line width=2.5pt, blue!70!black] (root) -- (r30) -- (rr35);
                \node[below=0.15cm of rr35, font=\scriptsize, text=blue!70!black] {\textbf{bc=2}};
            }
        \end{tikzpicture}
        \end{center}
    }
    \uncover<7->{
        \begin{center}
            \textbf{All paths from root have same black count = 2}
        \end{center}
    }
\end{frame}

% ══════════════════════════════════════════════════════════════
% SLIDE (Page 22): RBT Operations Intro
% ══════════════════════════════════════════════════════════════
\begin{frame}{RBT Operations}
    \vspace{1cm}
    Now, How do these points ensure the "rebalancing" feature of Red Black Tree?
    
    \uncover<2->{
        \vspace{2cm}
        \begin{center}
            \Large\textbf{Let's see some operations....}
        \end{center}
    }
\end{frame}


% ══════════════════════════════════════════════════════════════
% SLIDE (Page 24): Insertion
% ══════════════════════════════════════════════════════════════
\begin{frame}{Insertion}
    \begin{center}
        \large Insert node x in a Red Black Tree
    \end{center}
    \vspace{0.2cm}
    \begin{columns}[c]
        \column{0.45\textwidth}
            \onslide<2->{
            \begin{center}
                \textbf{Pseudocode}
            \end{center}
            \vspace{0.2cm}
            \begin{block}{}
                \texttt{color[x] = RED}\\[0.2cm]
                \texttt{y = root[T]}\\[0.2cm]
                \texttt{while y $\neq$ NIL do}\\
                \texttt{\quad if key[x] > key[y]}\\
                \texttt{\quad\quad y = right[y]}\\
                \texttt{\quad else}\\
                \texttt{\quad\quad y = left[y]}\\[0.2cm]
                \texttt{insert x at y's position}
            \end{block}
            }

        \column{0.52\textwidth}
            \begin{center}
            % Frame 1: Existing RBT
            \only<3>{
                \begin{tikzpicture}[scale=1, every node/.style={}]
                    \node[blacknode] (n10) at (0,0) {10};
                    \node[blacknode] (n5) at (-1.5,-1.3) {5}; \draw[thick] (n10) -- (n5);
                    \node[blacknode] (n15) at (1.5,-1.3) {15}; \draw[thick] (n10) -- (n15);
                    \node[rednode] (n3) at (-2.2,-2.6) {3}; \draw[thick] (n5) -- (n3);
                    \node[rednode] (n7) at (-0.8,-2.6) {7}; \draw[thick] (n5) -- (n7);
                    \node[rednode] (n12) at (0.8,-2.6) {12}; \draw[thick] (n15) -- (n12);
                    \node[rednode] (n18) at (2.2,-2.6) {18}; \draw[thick] (n15) -- (n18);
                    \node at (0,1.0) [font=\small, text=black] {Existing RBT};
                \end{tikzpicture}
            }
            % Frame 2: x=20 (RED), y at root (10)
            \only<4>{
                \begin{tikzpicture}[scale=1, every node/.style={}]
                    \node[blacknode, fill=deepblue!20, draw=deepblue, line width=2.5pt] (n10) at (0,0) {10};
                    \node at (-0.65,0.35) [font=\bfseries, text=deepblue] {y};
                    \node[blacknode] (n5) at (-1.5,-1.3) {5}; \draw[thick] (n10) -- (n5);
                    \node[blacknode] (n15) at (1.5,-1.3) {15}; \draw[thick] (n10) -- (n15);
                    \node[rednode] (n3) at (-2.2,-2.6) {3}; \draw[thick] (n5) -- (n3);
                    \node[rednode] (n7) at (-0.8,-2.6) {7}; \draw[thick] (n5) -- (n7);
                    \node[rednode] (n12) at (0.8,-2.6) {12}; \draw[thick] (n15) -- (n12);
                    \node[rednode] (n18) at (2.2,-2.6) {18}; \draw[thick] (n15) -- (n18);
                    \node[rednode] (x20) at (3.8,0) {20};
                    \node at (4.45,0.35) [font=\bfseries, text=rbred] {x};
                    \node at (3.8,-0.7) [font=\small, text=goodgreen] {20 $>$ 10};
                \end{tikzpicture}
            }
            % Frame 3: y at 15
            \only<5>{
                \begin{tikzpicture}[scale=1, every node/.style={}]
                    \node[blacknode] (n10) at (0,0) {10};
                    \node[blacknode] (n5) at (-1.5,-1.3) {5}; \draw[thick] (n10) -- (n5);
                    \node[blacknode, fill=deepblue!20, draw=deepblue, line width=2.5pt] (n15) at (1.5,-1.3) {15}; \draw[thick] (n10) -- (n15);
                    \node at (0.85,-0.95) [font=\bfseries, text=deepblue] {y};
                    \node[rednode] (n3) at (-2.2,-2.6) {3}; \draw[thick] (n5) -- (n3);
                    \node[rednode] (n7) at (-0.8,-2.6) {7}; \draw[thick] (n5) -- (n7);
                    \node[rednode] (n12) at (0.8,-2.6) {12}; \draw[thick] (n15) -- (n12);
                    \node[rednode] (n18) at (2.2,-2.6) {18}; \draw[thick] (n15) -- (n18);
                    \node[rednode] (x20) at (3.8,-1.3) {20};
                    \node at (4.45,-0.95) [font=\bfseries, text=rbred] {x};
                    \node at (3.8,-2.0) [font=\small, text=goodgreen] {20 $>$ 15};
                \end{tikzpicture}
            }
            % Frame 4: y at 18
            \only<6>{
                \begin{tikzpicture}[scale=1, every node/.style={}]
                    \node[blacknode] (n10) at (0,0) {10};
                    \node[blacknode] (n5) at (-1.5,-1.3) {5}; \draw[thick] (n10) -- (n5);
                    \node[blacknode] (n15) at (1.5,-1.3) {15}; \draw[thick] (n10) -- (n15);
                    \node[rednode] (n3) at (-2.2,-2.6) {3}; \draw[thick] (n5) -- (n3);
                    \node[rednode] (n7) at (-0.8,-2.6) {7}; \draw[thick] (n5) -- (n7);
                    \node[rednode] (n12) at (0.8,-2.6) {12}; \draw[thick] (n15) -- (n12);
                    \node[rednode, fill=deepblue!20, draw=deepblue, line width=2.5pt] (n18) at (2.2,-2.6) {18}; \draw[thick] (n15) -- (n18);
                    \node at (1.55,-2.25) [font=\bfseries, text=deepblue] {y};
                    \node[rednode] (x20) at (3.8,-2.6) {20};
                    \node at (4.45,-2.25) [font=\bfseries, text=rbred] {x};
                    \node at (3.8,-3.3) [font=\small, text=goodgreen] {20 $>$ 18};
                \end{tikzpicture}
            }
            % Frame 5: y=NIL, insert x at right of 18
            \only<7->{
                \begin{tikzpicture}[scale=1, every node/.style={}]
                    \node[blacknode] (n10) at (0,0) {10};
                    \node[blacknode] (n5) at (-1.5,-1.3) {5}; \draw[thick] (n10) -- (n5);
                    \node[blacknode] (n15) at (1.5,-1.3) {15}; \draw[thick] (n10) -- (n15);
                    \node[rednode] (n3) at (-2.2,-2.6) {3}; \draw[thick] (n5) -- (n3);
                    \node[rednode] (n7) at (-0.8,-2.6) {7}; \draw[thick] (n5) -- (n7);
                    \node[rednode] (n12) at (0.8,-2.6) {12}; \draw[thick] (n15) -- (n12);
                    \node[rednode] (n18) at (2.2,-2.6) {18}; \draw[thick] (n15) -- (n18);
                    \node[rednode] (n20) at (3.2,-3.9) {20}; \draw[thick] (n18) -- (n20);
                    \node at (3.85,-3.55) [font=\bfseries, text=rbred] {x};
                    \node at (3.2,-4.6) [font=\small, text=goodgreen] {Inserted!};
                \end{tikzpicture}
            }
            \end{center}
    \end{columns}
\end{frame}



% ══════════════════════════════════════════════════════════════
% SLIDE (Page 26): What can go wrong
% ══════════════════════════════════════════════════════════════
\begin{frame}{What can go wrong}
    \begin{center}
        \large Insert 10
    \end{center}
    \vspace{0.3cm}

    % ---- CENTER AREA ----
    \begin{center}

    % SLIDE 1: NIL ONLY
    \only<1>{
        \begin{tikzpicture}[scale=1.2]
            % rectangular NIL node
            \node[rectangle, fill=black, draw=black,
                  minimum width=10mm, minimum height=6mm] (nil) at (0,0) {};

            % arrow
            \draw[-{Stealth[scale=1.4]}, thick, black] (-0.9,1.1) -- (-0.3,0.4);

            % NIL label
            \node[font=\small\bfseries] at (-1.1,1.25) {NIL};
        \end{tikzpicture}
    }

    % SLIDE 2+: RED ROOT ONLY
    \only<2->{
        \begin{tikzpicture}[scale=1.2]
            % red root node
            \node[rednode, minimum size=12mm] (n10) at (0,0) {10};

            % root arrow
            \draw[-{Stealth[scale=1.6]}, thick, rbred] (-0.9,1.3) -- (-0.3,0.5);
            \node at (-1.1,1.45) [font=\small\bfseries, text=rbred] {root};
        \end{tikzpicture}
    }

    \end{center}

    \vspace{0.5cm}

    \begin{center}
        \onslide<3->{
            \Large \textcolor{red}{Root can't be RED}\\[0.3cm]
        }
        \onslide<4->{
            \Large\textbf{Case 1}
        }
    \end{center}
\end{frame}

% ══════════════════════════════════════════════════════════════
% SLIDE (Page 27): Three Violation Cases
% ══════════════════════════════════════════════════════════════
\begin{frame}{What can go wrong}
    \begin{center}
        \large Insert 10
    \end{center}
    \vspace{0.3cm}
    
    \begin{columns}[t]
        % Case 2: Uncle is RED
        \column{0.32\textwidth}
            \begin{center}
            % Slide 1: Tree without 10
            \only<1>{
                \begin{tikzpicture}[scale=1, every node/.style={}]
                    \node[blacknode] (n20) at (0,0) {20};
                    \node[rednode] (n5) at (-1,-1.3) {5}; \draw[thick] (n20) -- (n5);
                    \node[rednode] (n30) at (1,-1.3) {30}; \draw[thick] (n20) -- (n30);
                \end{tikzpicture}
            }
            % Slide 2+: Tree with 10
            \only<2->{
                \begin{tikzpicture}[scale=1, every node/.style={}]
                    \node[blacknode] (n20) at (0,0) {20};
                    \node[rednode] (n5) at (-1,-1.3) {5}; \draw[thick] (n20) -- (n5);
                    \node[rednode] (n30) at (1,-1.3) {30}; \draw[thick] (n20) -- (n30);
                    \node[rednode] (n10) at (-0.2,-2.6) {10}; \draw[thick] (n5) -- (n10);
                \end{tikzpicture}
            }
            
            \vspace{0.5cm}
            \onslide<3->{
                \Large\textbf{Case 2}
            }
            \end{center}
        
        % Case 3: Uncle is BLACK (LL)
        \column{0.32\textwidth}
            \begin{center}
            % Slide 1: Tree without 10
            \only<1>{
                \begin{tikzpicture}[scale=1, every node/.style={}]
                    \node[blacknode] (n20) at (0,0) {20};
                    \node[rednode] (n15) at (-1,-1.3) {15}; \draw[thick] (n20) -- (n15);
                    \node[blacknode] (n30) at (1,-1.3) {30}; \draw[thick] (n20) -- (n30);
                \end{tikzpicture}
            }
            % Slide 2+: Tree with 10
            \only<2->{
                \begin{tikzpicture}[scale=1, every node/.style={}]
                    \node[blacknode] (n20) at (0,0) {20};
                    \node[rednode] (n15) at (-1,-1.3) {15}; \draw[thick] (n20) -- (n15);
                    \node[blacknode] (n30) at (1,-1.3) {30}; \draw[thick] (n20) -- (n30);
                    \node[rednode] (n10) at (-1.8,-2.6) {10}; \draw[thick] (n15) -- (n10);
                \end{tikzpicture}
            }
            
            \vspace{0.5cm}
            \onslide<4->{
                \Large\textbf{Case 3}
            }
            \end{center}
        
        % Case 4: Uncle is BLACK (LR)
        \column{0.32\textwidth}
            \begin{center}
            % Slide 1: Tree without 10
            \only<1>{
                \begin{tikzpicture}[scale=1, every node/.style={}]
                    \node[blacknode] (n20) at (0,0) {20};
                    \node[rednode] (n5) at (-1,-1.3) {5}; \draw[thick] (n20) -- (n5);
                    \node[blacknode] (n30) at (1,-1.3) {30}; \draw[thick] (n20) -- (n30);
                \end{tikzpicture}
            }
            % Slide 2+: Tree with 10
            \only<2->{
                \begin{tikzpicture}[scale=1, every node/.style={}]
                    \node[blacknode] (n20) at (0,0) {20};
                    \node[rednode] (n5) at (-1,-1.3) {5}; \draw[thick] (n20) -- (n5);
                    \node[blacknode] (n30) at (1,-1.3) {30}; \draw[thick] (n20) -- (n30);
                    \node[rednode] (n10) at (-0.2,-2.6) {10}; \draw[thick] (n5) -- (n10);
                \end{tikzpicture}
            }
            
            \vspace{0.5cm}
            \onslide<5->{
                \Large\textbf{Case 4}
            }
            \end{center}
    \end{columns}
\end{frame}

% ══════════════════════════════════════════════════════════════
% SLIDE: All Four Insertion Violation Cases Together
% ══════════════════════════════════════════════════════════════
\begin{frame}{Insertion Violation Cases}
    \begin{center}
        \large Four main violation cases in Red-Black Tree insertion:
    \end{center}
    \vspace{0.3cm}
    \begin{columns}[t]
        % Case 1: Root is Red
        \column{0.24\textwidth}
            \begin{center}
            \textbf{Case 1}\\
            
            \vspace{0.2cm}
            \begin{tikzpicture}[scale=1]
                \node[rednode, minimum size=12mm] (n10) at (0,0) {10};
                \draw[-{Stealth[scale=1.2]}, thick, rbred] (-0.7,1.0) -- (-0.2,0.3);
                \node at (-0.8,1.1) [font=\scriptsize\bfseries, text=rbred] {root};
            \end{tikzpicture}
            \end{center}
        
        % Case 2: Uncle is RED
        \column{0.24\textwidth}
            \begin{center}
            \textbf{Case 2}\\
            
            \vspace{0.2cm}
            \begin{tikzpicture}[scale=1]
                \node[blacknode] (n20) at (0,0) {20};
                \node[rednode] (n5) at (-1,-1.3) {5}; \draw[thick] (n20) -- (n5);
                \node[rednode] (n30) at (1,-1.3) {30}; \draw[thick] (n20) -- (n30);
                \node[rednode] (n10) at (-0.2,-2.6) {10}; \draw[thick] (n5) -- (n10);
            \end{tikzpicture}
            \end{center}
        
        % Case 3: Uncle is BLACK (LL)
        \column{0.24\textwidth}
            \begin{center}
            \textbf{Case 3}\\
            
            \vspace{0.2cm}
            \begin{tikzpicture}[scale=1]
                \node[blacknode] (n20) at (0,0) {20};
                \node[rednode] (n15) at (-1,-1.3) {15}; \draw[thick] (n20) -- (n15);
                \node[blacknode] (n30) at (1,-1.3) {30}; \draw[thick] (n20) -- (n30);
                \node[rednode] (n10) at (-1.8,-2.6) {10}; \draw[thick] (n15) -- (n10);
            \end{tikzpicture}
            \end{center}
        
        % Case 4: Uncle is BLACK (LR)
        \column{0.24\textwidth}
            \begin{center}
            \textbf{Case 4}\\
            
            \vspace{0.2cm}
            \begin{tikzpicture}[scale=1]
                \node[blacknode] (n20) at (0,0) {20};
                \node[rednode] (n5) at (-1,-1.3) {5}; \draw[thick] (n20) -- (n5);
                \node[blacknode] (n30) at (1,-1.3) {30}; \draw[thick] (n20) -- (n30);
                \node[rednode] (n10) at (-0.2,-2.6) {10}; \draw[thick] (n5) -- (n10);
            \end{tikzpicture}
            \end{center}
    \end{columns}
    
    \vspace{0.7cm}
    \begin{center}
        \textbf{\Large How to solve this?}
    \end{center}
    \vspace{0.3cm}
    \begin{center}
        \large \textit{See next...}
    \end{center}
\end{frame}
